!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return n};var a,n={},o=Object.prototype,r=o.hasOwnProperty,i=Object.defineProperty||function(e,t,a){e[t]=a.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",p=l.toStringTag||"@@toStringTag";function d(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(a){d=function(e,t,a){return e[t]=a}}function f(e,t,a,n){var o=t&&t.prototype instanceof v?t:v,r=Object.create(o.prototype),l=new T(n||[]);return i(r,"_invoke",{value:P(e,a,l)}),r}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",g="suspendedYield",h="executing",b="completed",x={};function v(){}function y(){}function w(){}var k={};d(k,s,(function(){return this}));var L=Object.getPrototypeOf,z=L&&L(L(q([])));z&&z!==o&&r.call(z,s)&&(k=z);var E=w.prototype=v.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function j(t,a){function n(o,i,l,s){var c=u(t[o],t,i);if("throw"!==c.type){var p=c.arg,d=p.value;return d&&"object"==e(d)&&r.call(d,"__await")?a.resolve(d.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):a.resolve(d).then((function(e){p.value=e,l(p)}),(function(e){return n("throw",e,l,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,t){function r(){return new a((function(a,o){n(e,t,a,o)}))}return o=o?o.then(r,r):r()}})}function P(e,t,n){var o=m;return function(r,i){if(o===h)throw Error("Generator is already running");if(o===b){if("throw"===r)throw i;return{value:a,done:!0}}for(n.method=r,n.arg=i;;){var l=n.delegate;if(l){var s=_(l,n);if(s){if(s===x)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=u(e,t,n);if("normal"===c.type){if(o=n.done?b:g,c.arg===x)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=b,n.method="throw",n.arg=c.arg)}}}function _(e,t){var n=t.method,o=e.iterator[n];if(o===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=a,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),x;var r=u(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,x;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=a),t.delegate=null,x):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,x)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function q(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function e(){for(;++o<t.length;)if(r.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=a,e.done=!0,e};return i.next=i}}throw new TypeError(e(t)+" is not iterable")}return y.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:y,configurable:!0}),y.displayName=d(w,p,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,p,"GeneratorFunction")),e.prototype=Object.create(E),e},n.awrap=function(e){return{__await:e}},S(j.prototype),d(j.prototype,c,(function(){return this})),n.AsyncIterator=j,n.async=function(e,t,a,o,r){void 0===r&&(r=Promise);var i=new j(f(e,t,a,o),r);return n.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(E),d(E,p,"Generator"),d(E,s,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},n.values=q,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=a)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return l.type="throw",l.arg=e,t.next=n,o&&(t.method="next",t.arg=a),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,x):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),M(a),x}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var o=n.arg;M(a)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:q(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=a),x}},n}function a(e,t,a,n,o,r,i){try{var l=e[r](i),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(t,a,n){return(a=function(t){var a=function(t,a){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,a||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==e(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}System.register(["./header-legacy-BT1bDr9V.js"],(function(e,n){"use strict";var r,i,l,s,c,p,d,f;return{setters:[function(e){r=e.a,i=e.m,l=e.f,s=e.b,c=e.c,p=e.u,d=e.d,f=e.h}],execute:function(){var e=document.createElement("style");e.textContent='.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(/assets/libs/images/layers.png);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(/assets/libs/images/layers-2x.png);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(/assets/libs/images/marker-icon.png)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;-moz-box-sizing:border-box;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}.leaflet-cluster-anim .leaflet-marker-icon,.leaflet-cluster-anim .leaflet-marker-shadow{-webkit-transition:-webkit-transform .3s ease-out,opacity .3s ease-in;-moz-transition:-moz-transform .3s ease-out,opacity .3s ease-in;-o-transition:-o-transform .3s ease-out,opacity .3s ease-in;transition:transform .3s ease-out,opacity .3s ease-in}.leaflet-cluster-spider-leg{-webkit-transition:-webkit-stroke-dashoffset .3s ease-out,-webkit-stroke-opacity .3s ease-in;-moz-transition:-moz-stroke-dashoffset .3s ease-out,-moz-stroke-opacity .3s ease-in;-o-transition:-o-stroke-dashoffset .3s ease-out,-o-stroke-opacity .3s ease-in;transition:stroke-dashoffset .3s ease-out,stroke-opacity .3s ease-in}.marker-cluster-small{background-color:rgba(181,226,140,.6)}.marker-cluster-small div{background-color:rgba(110,204,57,.6)}.marker-cluster-medium{background-color:rgba(241,211,87,.6)}.marker-cluster-medium div{background-color:rgba(240,194,12,.6)}.marker-cluster-large{background-color:rgba(253,156,115,.6)}.marker-cluster-large div{background-color:rgba(241,128,23,.6)}.leaflet-oldie .marker-cluster-small{background-color:#b5e28c}.leaflet-oldie .marker-cluster-small div{background-color:#6ecc39}.leaflet-oldie .marker-cluster-medium{background-color:#f1d357}.leaflet-oldie .marker-cluster-medium div{background-color:#f0c20c}.leaflet-oldie .marker-cluster-large{background-color:#fd9c73}.leaflet-oldie .marker-cluster-large div{background-color:#f18017}.marker-cluster div{width:30px;height:30px;margin-left:5px;margin-top:5px;text-align:center;border-radius:15px;font:12px Helvetica Neue,Arial,Helvetica,sans-serif}.marker-cluster span{line-height:30px}.filters{display:flex;gap:3px;align-items:center;flex-wrap:wrap;align-items:flex-start;margin-top:5px}.filters-mobile{display:none}.filters-left{display:flex;gap:3px;align-items:center;flex-wrap:wrap;width:240px;justify-content:space-between}.filters-right{display:flex;gap:3px;align-items:center;flex-wrap:wrap;width:650px}.filter{font-size:11px;cursor:pointer;color:#333;background-color:#f2f1f1;transition:background-color .3s,color .3s;padding:2px;border-radius:9px;display:flex;align-items:center;white-space:nowrap;position:relative}.filter .filter-count{margin-left:5px;width:20px;height:20px;background-color:#fefefe;border-radius:50%;color:#333;font-size:9px;text-align:center;line-height:20px;font-weight:700}.filter.active{background-color:#add8e6;color:#333}.filter-divider{width:2px;background-color:#ccc;height:50px;margin:0 5px;align-self:center}.filter-reset{font-size:14px;cursor:pointer;padding:5px 10px;border-radius:9px;background-color:#ffefef;font-weight:700;align-items:center;transition:background-color .2s}.filter-reset:hover{background-color:#fbb}.desktop-reset{display:block}.filter-icon-wrapper{display:inline-block;position:relative}.custom-tooltip{position:absolute;background-color:#333;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;z-index:1001;visibility:hidden;white-space:nowrap;pointer-events:none;box-shadow:0 2px 4px rgba(0,0,0,.2)}.custom-tooltip:after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#333 transparent transparent transparent}#sidebar{width:320px;height:calc(100vh - 85px);overflow-y:auto;padding:10px;background:#f8f8f8;border-right:1px solid #ddd;position:fixed;top:85px;left:0;box-sizing:border-box;z-index:900}.place-list{margin-bottom:0}.place-list h3{margin-top:20px}.place{display:flex;align-items:center;padding:10px;border-bottom:1px solid #ddd;cursor:pointer;background:#fff;transition:background .3s,transform .2s;border-radius:8px;min-height:80px}.place:hover{background:#f0f0f0;transform:scale(1.02)}.place img{width:60px;height:80px;object-fit:cover;border-radius:8px;margin-right:10px;flex-shrink:0}.place-info{display:flex;flex-direction:column;flex:1;min-width:0}.place-info h3{margin:0;font-size:15px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.place-info p{margin:3px 0 5px;font-size:13px;color:#555;overflow:hidden;text-overflow:ellipsis;display:flex;flex-wrap:nowrap;gap:3px;align-items:center}.place-info p img{margin:0;padding:0}.place.highlighted{background:#e0f7fa;border:2px solid #3388ff}#map{flex:1;height:calc(100vh - 100px);margin-left:320px;margin-top:100px;position:relative;z-index:0;overflow:hidden}.highlighted-marker{line-height:0;z-index:1000!important}.default-marker{line-height:0}.marker-cluster{background-clip:padding-box;border-radius:20px}.marker-cluster-small{background-color:rgba(0,128,255,.6)}.marker-cluster-small>div{background-color:rgba(0,102,204,.6);color:#fff;font-size:14px;font-weight:700}.marker-cluster-medium{background-color:rgba(0,128,255,.6)}.marker-cluster-medium>div{background-color:rgba(0,102,204,.6);color:#fff;font-size:14px;font-weight:700}.marker-cluster-large{background-color:rgba(0,128,255,.6)}.marker-cluster-large>div{background-color:rgba(0,102,204,.6);color:#fff;font-size:14px;font-weight:700}@media (max-width: 768px){.marker-cluster div{font-size:12px}}.leaflet-popup-content-wrapper{max-width:500px!important;width:500px!important}.leaflet-popup-content{display:flex;flex-direction:row;max-width:500px!important;width:500px!important;margin:13px 24px 13px 10px}.popup-content{display:flex;align-items:flex-start;width:97%;min-height:150px}.popup-content img{width:120px;height:150px;object-fit:cover;border-radius:8px;margin-right:10px;flex-shrink:0}.popup-text{flex:1;min-width:0;word-wrap:break-word;overflow-wrap:break-word;display:flex;flex-direction:column;justify-content:space-between;min-height:150px}.popup-text-content{flex:1;overflow:hidden}.popup-text h3{margin:0 0 5px;font-size:16px}.popup-text p{margin:5px 0;font-size:14px;word-wrap:break-word;overflow-wrap:break-word}.popup-attributes{gap:3px;font-size:13px;color:#555;overflow:hidden;text-overflow:ellipsis;display:flex;flex-wrap:nowrap;align-items:center}.popup-attributes img{border-radius:0!important;margin:0;padding:0}.popup-links{display:flex;gap:0px;margin-top:auto;align-items:flex-end}.popup-links a{text-decoration:none;white-space:nowrap;display:inline-block}@media (max-width: 768px){header{height:auto;padding:8px 10px}.filters-left,.filters-right,.filter-divider,.desktop-reset{display:none}.filters-mobile{display:flex;flex-direction:column;gap:4px;width:100%}.filter-row{display:flex;justify-content:flex-start;gap:4px;width:auto}.filter,.more-filters-btn,.filter-reset{font-size:12px;padding:4px 6px;white-space:nowrap}.filter-icon{max-width:18px;max-height:18px;margin-right:3px}.more-filters-btn{display:inline-flex;align-items:center;background-color:#f2f1f1;border-radius:9px;cursor:pointer}#map{margin-left:0;margin-top:0;height:100vh;width:100vw}#sidebar.hidden-mobile{transform:translate(-100%)}#sidebar{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1500;background:#f8f8f8;transform:translate(0);padding:0}.mobile-sidebar-close{position:fixed;top:20px;right:20px;background:#ffb6c1;padding:5px 10px;border-radius:9px;box-shadow:0 2px 5px rgba(0,0,0,.2);z-index:1600;cursor:pointer;display:none;align-items:center;gap:5px;font-size:14px}.mobile-sidebar-close img{max-width:20px;max-height:20px}.place-list{padding:10px}.mobile-place-card{position:fixed;bottom:5%;left:0;width:100%;background:#fff;border-radius:10px;box-shadow:0 -2px 10px rgba(0,0,0,.2);max-height:50vh;overflow-y:auto;transition:transform .3s ease;transform:translateY(100%);z-index:1001;display:none}.mobile-place-card.active{transform:translateY(0);display:block}.mobile-place-card-header{position:relative;padding:10px 10px 5px;text-align:right;display:flex;justify-content:space-between;align-items:center}.close-card{font-size:20px;cursor:pointer}.mobile-place-card-attributes{display:flex;gap:3px;align-items:center}.mobile-place-card-content{display:flex;align-items:flex-start;padding:5px 5px 10px;min-height:100px}.mobile-place-card-content img{width:90px;height:110px;object-fit:cover;border-radius:8px;margin-right:10px;flex-shrink:0}.mobile-place-card-content .popup-text{flex:1;min-width:0;word-wrap:break-word;overflow-wrap:break-word;display:flex;flex-direction:column;justify-content:space-between;min-height:110px}.mobile-place-card-content .popup-text-content{flex:1;overflow:hidden}.mobile-place-card-content .popup-text h3{margin:0 0 5px;font-size:16px}.mobile-place-card-content .popup-text p{margin:5px 0;font-size:14px;word-wrap:break-word;overflow-wrap:break-word}.mobile-place-card-content .popup-links{display:flex;gap:0px;margin-top:auto;align-items:flex-end}.mobile-list-toggle{position:fixed;top:120px;right:10px;background:#fff;padding:5px 10px;border-radius:9px;box-shadow:0 2px 5px rgba(0,0,0,.2);z-index:1000;cursor:pointer;display:none;align-items:center;gap:5px}.mobile-list-toggle img{max-width:20px;max-height:20px;vertical-align:middle}}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:2000;display:none}.modal:not(.hidden){display:flex}.modal-content{background:#fff;padding:20px;border-radius:10px;max-height:80vh;overflow-y:auto;width:90%}.close-modal{float:right;font-size:20px;cursor:pointer}.extra-filters{display:flex;flex-direction:column;gap:10px}.extra-filters-top,.extra-filters-bottom{display:flex;flex-wrap:wrap;gap:5px}.filter-divider-horizontal{width:100%;height:2px;background-color:#ccc;margin:5px 0}.hidden{display:none}@media (min-width: 769px){.mobile-sidebar-close,.mobile-list-toggle,.mobile-place-card,.modal{display:none!important}}\n/*$vite$:1*/',document.head.appendChild(e);var n,u=null;function m(e){u&&g();var t=k();if(t[e]){var a=t[e],n=L.divIcon({className:"highlighted-marker",html:'<img src="/images/mark.svg" style="width: 48px; height: 64px;">',iconSize:[48,48],iconAnchor:[24,48]});a.setIcon(n),u=a,z().setView(a.getLatLng(),z().getZoom(),{animate:!0})}}function g(){if(u){var e=L.divIcon({className:"default-marker",html:'<div style="background-color: #3388ff; width: 10px; height: 10px; border-radius: 50%; border: 3px solid #ffffff; box-shadow: 0 0 0 2px #3388ff;"></div>',iconSize:[16,16],iconAnchor:[8,8]});u.setIcon(e),u=null}}function h(e,t){var a=e.querySelector(".custom-tooltip");a||((a=document.createElement("div")).className="custom-tooltip",a.textContent=t,e.appendChild(a));var n=e.getBoundingClientRect(),o=a.offsetWidth,r=window.innerWidth;a.style.top="-".concat(a.offsetHeight+5,"px");var i=(e.offsetWidth-o)/2,l=n.left;l+i<0?i=5-l:l+i+o>r&&(i=r-l-o-5),a.style.left="".concat(i,"px"),a.style.visibility="visible",setTimeout((function(){a.style.visibility="hidden"}),3e3)}function b(e){var t=document.getElementById("visible-places"),a=document.getElementById("outside-places");t.innerHTML="",a.innerHTML="";var n=z(),i=n.getBounds(),l=n.getCenter(),s=k(),c=e.map((function(e){var t=L.latLng(e.lat,e.lng),a=l.distanceTo(t);return o(o({},e),{},{distance:a})})).sort((function(e,t){return e.distance-t.distance})),p=null;c.forEach((function(e){var o=document.createElement("div");o.className="place",o.innerHTML='\n      <img src="'.concat(e.image,'" alt="').concat(e.name,'" loading="lazy">\n      <div class="place-info">\n        <h3>').concat(e.name,"</h3>\n        <p>").concat(e.shirt_description||e.description,"</p>\n        <p>").concat(e.attributes.map((function(e){return r[e]||e})).join(""),"</p>\n      </div>\n    "),o.onclick=function(){if(window.innerWidth<=768)n.setView([e.lat,e.lng],18,{animate:!0}),function(e){var t=document.getElementById("mobile-place-card"),a=t.querySelector(".mobile-place-card-header"),n=t.querySelector(".mobile-place-card-content"),o=e.attributes.map((function(e){return r[e]||e})).join("");a.innerHTML='\n    <div class="mobile-place-card-attributes">'.concat(o,'</div>\n    <span class="close-card">✕</span>\n  '),n.innerHTML='\n    <img src="'.concat(e.image,'" alt="').concat(e.name,'">\n    <div class="popup-text">\n      <div class="popup-text-content">\n        <h3>').concat(e.name,"</h3>\n        <p>").concat(e.description,'</p>\n      </div>\n      <div class="popup-links">\n        <a href="').concat(e.instagram,'" target="_blank"><img src="/images/instagram.svg" alt="Instagram" class="icon"></a>\n        <a href="').concat(e.maps_url,'" target="_blank"><img src="/images/google.svg" alt="Google Maps" class="icon"></a>\n      </div>\n    </div>\n  '),t.classList.remove("hidden"),t.classList.add("active")}(e),function(){var e=document.getElementById("sidebar"),t=document.querySelector(".mobile-sidebar-close"),a=document.querySelector(".mobile-list-toggle");e.style.transform="translateX(-100%)",t.style.display="none",window.innerWidth<=768&&(a.style.display="block");g()}(),m(e.name);else{var t=s[e.name];t&&n.removeLayer(t),p&&(p.isPopupOpen()&&p.closePopup(),n.removeLayer(p),p=null);var a='\n          <div class="popup-content">\n            <img src="'.concat(e.image,'" alt="').concat(e.name,'">\n            <div class="popup-text">\n              <div class="popup-text-content">\n                <h3>').concat(e.name,"</h3>\n                <p>").concat(e.description,'</p>\n                <div class="popup-attributes">').concat(e.attributes.map((function(e){return r[e]||e})).join(""),'</div>\n              </div>\n              <div class="popup-links">\n                <a href="').concat(e.instagram,'" target="_blank">\n                  <img src="/images/instagram.svg" alt="Instagram" class="icon">\n                </a>\n                <a href="').concat(e.maps_url,'" target="_blank">\n                  <img src="/images/google.svg" alt="Google Maps" class="icon">\n                </a>\n              </div>\n            </div>\n          </div>\n        ');(p=L.marker([e.lat,e.lng],{icon:L.divIcon({className:"highlighted-marker",html:'<img src="/images/mark.svg" style="width: 48px; height: 64px;">',iconSize:[48,48],iconAnchor:[24,48]})})).bindPopup(a,{autoPan:!0,autoPanPaddingTopLeft:L.point(0,100),autoPanPaddingBottomRight:L.point(0,50),offset:L.point(0,-25)}),p.addTo(n).openPopup(),n.setView([e.lat,e.lng],17,{animate:!0}),m(e.name),p.on("popupclose",(function(){n.removeLayer(p),p=null,t&&n.addLayer(t),g()}))}},i.contains([e.lat,e.lng])?t.appendChild(o):a.appendChild(o)}))}var x=L.markerClusterGroup(),v={},y=[];function w(e){if(n&&y.length){x.clearLayers();var t=y.filter((function(t){return 0===e.length||e.every((function(e){return t.attributes.includes(e)}))}));t.forEach((function(e){var t='\n      <div class="popup-content">\n        <img src="'.concat(e.image,'" alt="').concat(e.name,'" loading="lazy">\n        <div class="popup-text">\n          <div class="popup-text-content">\n            <h3>').concat(e.name,"</h3>\n            <p>").concat(e.description,'</p>\n            <div class="popup-attributes">').concat(e.attributes.map((function(e){return r[e]||e})).join(""),'</div>\n          </div>\n          <div class="popup-links">\n            <a href="').concat(e.instagram,'" target="_blank">\n              <img src="/images/instagram.svg" alt="Instagram" class="icon">\n            </a>\n            <a href="').concat(e.maps_url,'" target="_blank">\n              <img src="/images/google.svg" alt="Google Maps" class="icon">\n            </a>\n          </div>\n        </div>\n      </div>\n    '),a=L.marker([e.lat,e.lng],{icon:L.divIcon({className:"default-marker",html:'<div style="background-color: #3388ff; width: 10px; height: 10px; border-radius: 50%; border: 3px solid #ffffff; box-shadow: 0 0 0 2px #3388ff;"></div>',iconSize:[16,16],iconAnchor:[8,8]})});window.innerWidth>768?(a.bindPopup(t,{autoPan:!0,autoPanPaddingTopLeft:L.point(0,100),autoPanPaddingBottomRight:L.point(0,50),offset:L.point(0,-25)}),a.on("popupopen",(function(){return m(e.name)})),a.on("popupclose",(function(){return g()}))):a.on("click",(function(){!function(e){var t=document.getElementById("mobile-place-card"),a=t.querySelector(".mobile-place-card-header"),n=t.querySelector(".mobile-place-card-content"),o=e.attributes.map((function(e){return r[e]||e})).join("");a.innerHTML='\n    <div class="mobile-place-card-attributes">'.concat(o,'</div>\n    <span class="close-card">✕</span>\n  '),n.innerHTML='\n    <img src="'.concat(e.image,'" alt="').concat(e.name,'">\n    <div class="popup-text">\n      <div class="popup-text-content">\n        <h3>').concat(e.name,"</h3>\n        <p>").concat(e.description,'</p>\n      </div>\n      <div class="popup-links">\n        <a href="').concat(e.instagram,'" target="_blank"><img src="/images/instagram.svg" alt="Instagram" class="icon"></a>\n        <a href="').concat(e.maps_url,'" target="_blank"><img src="/images/google.svg" alt="Google Maps" class="icon"></a>\n      </div>\n    </div>\n  '),t.classList.remove("hidden"),t.classList.add("active")}(e),m(e.name)})),x.addLayer(a),v[e.name]=a})),n.addLayer(x),b(t),function(e){document.querySelectorAll(".filter").forEach((function(t){var a=t.dataset.filter;if(a){var n=e.filter((function(e){return e.attributes.includes(a)})).length,o=t.querySelector(".filter-count");o||((o=document.createElement("div")).classList.add("filter-count"),t.appendChild(o)),o.textContent=n}}))}(t)}else console.warn("Map or places data not ready yet, skipping updateMap")}function k(){return v}function z(){return n}var E=[];function S(e){E=e.filter((function(e){return l[e]})),console.log("Setting active filters:",E),E.forEach((function(e){var t=document.querySelector('.filter[data-filter="'.concat(e,'"]'));t?(console.log("Activating filter: ".concat(e)),t.classList.add("active")):console.warn('Filter "'.concat(e,'" not found in DOM'))})),E.length>0&&(w(E),P())}function j(){return E}function P(){var e=new URL(window.location);E.length>0?e.search="?filter=".concat(E.join(",")):e.search="",window.history.pushState({},document.title,e)}function _(){document.querySelector(".mobile-list-toggle").addEventListener("click",(function(){var e=document.getElementById("sidebar"),t=document.querySelector(".mobile-sidebar-close");"translateX(-100%)"===e.style.transform||e.classList.contains("hidden-mobile")?(e.style.transform="translateX(0)",e.classList.remove("hidden-mobile"),e.scrollTop=0,window.innerWidth<=768&&(t.style.display="flex",document.querySelector(".mobile-list-toggle").style.display="none")):O()})),document.querySelector(".mobile-sidebar-close").addEventListener("click",O),document.getElementById("mobile-place-card").addEventListener("click",(function(e){if(e.target.classList.contains("close-card")){var t=document.getElementById("mobile-place-card");t.classList.remove("active"),setTimeout((function(){t.classList.add("hidden"),g()}),300)}}));var e=document.querySelector(".mobile-list-toggle"),t=function(){window.innerWidth>768?e.style.display="none":e.style.display="block"};t(),window.addEventListener("resize",t)}function O(){var e=document.getElementById("sidebar"),t=document.querySelector(".mobile-sidebar-close"),a=document.querySelector(".mobile-list-toggle");e.style.transform="translateX(-100%)",t.style.display="none",window.innerWidth<=768&&(a.style.display="block"),g()}function M(e,t){document.getElementById(e).innerHTML=t}function T(){var e;return e=t().mark((function e(){var a,o,r,u,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M("header-container",f),M("filters-container",'<div class="filters">\n  <div class="filters-mobile">\n    <div class="filter-row">\n      <span class="filter" data-filter="no_smoking"></span>\n      <span class="filter" data-filter="terrace"></span>\n      <span class="more-filters-btn">\n        \x3c!-- Текст "Ещё" добавится через JS --\x3e\n      </span>\n    </div>\n    <div class="filter-row">\n      <span class="filter" data-filter="coffee_shop"></span>\n      <span class="filter" data-filter="breakfast"></span>\n      <span class="filter" data-filter="bar"></span>\n      <span class="filter-reset">\n        <img src="/images/reset.svg" alt="Reset" class="filter-icon">\n      </span>\n    </div>\n  </div>\n  <div class="filters-left">\n    <span class="filter" data-filter="no_smoking"></span>\n    <span class="filter" data-filter="pets_allowed"></span>\n    <span class="filter" data-filter="terrace"></span>\n    <span class="filter" data-filter="smoke"></span>\n\n  </div>\n  <span class="filter-divider"></span>\n  <div class="filters-right">\n    <span class="filter" data-filter="coffee_shop"></span>\n    <span class="filter" data-filter="specialty"></span>\n    <span class="filter" data-filter="food"></span>\n    <span class="filter" data-filter="bar"></span>\n    <span class="filter" data-filter="desserts"></span>\n    <span class="filter" data-filter="breakfast"></span>\n    <span class="filter" data-filter="cafe"></span>\n    <span class="filter" data-filter="vegan"></span>\n    <span class="filter" data-filter="snacks"></span>\n    <span class="filter" data-filter="beans_sale"></span>\n    <span class="filter" data-filter="ice_cream"></span>\n    <span class="filter" data-filter="beer"></span>\n    <span class="filter" data-filter="wine"></span>\n  </div>\n  <span class="filter-reset desktop-reset">\n    <img src="/images/reset.svg" alt="Reset" class="filter-icon">\n  </span>\n</div>\n'),M("sidebar-container",'<div id="sidebar" class="hidden-mobile">\n  <div class="place-list">\n    <h3>In this area</h3>\n    <div id="visible-places"></div>\n  </div>\n  <div class="place-list">\n    <h3>📍 Nearby</h3>\n    <div id="outside-places"></div>\n  </div>\n</div>\n'),M("map-container",'<div id="map"></div>\n'),M("mobile-container",'<button class="mobile-sidebar-close" style="display: none;">\n  <img src="/images/close.svg" alt="Close" class="icon">\n  Закрыть\n</button>\n<div class="mobile-list-toggle">\n  <img src="/images/list.svg" alt="List" class="icon">\n  Показать список\n</div>\n<div id="mobile-place-card" class="mobile-place-card hidden">\n  <div class="mobile-place-card-header">\n    <div class="mobile-place-card-attributes"></div>\n    <span class="close-card">✕</span>\n  </div>\n  <div class="mobile-place-card-content"></div>\n</div>\n'),M("modal-container",'<div id="more-filters-modal" class="modal hidden">\n  <div class="modal-content">\n    <span class="close-modal">✕</span>\n    <div class="extra-filters">\n      <div class="extra-filters-top">\n        <span class="filter" data-filter="smoke"></span>\n        <span class="filter" data-filter="pets_allowed"></span>\n      </div>\n      <span class="filter-divider-horizontal"></span>\n      <div class="extra-filters-bottom">\n        <span class="filter" data-filter="specialty"></span>\n        <span class="filter" data-filter="food"></span>\n        <span class="filter" data-filter="desserts"></span>\n        <span class="filter" data-filter="cafe"></span>\n        <span class="filter" data-filter="vegan"></span>\n        <span class="filter" data-filter="snacks"></span>\n        <span class="filter" data-filter="wine"></span>\n        <span class="filter" data-filter="beans_sale"></span>\n        <span class="filter" data-filter="ice_cream"></span>\n        <span class="filter" data-filter="beer"></span>\n\n      </div>\n    </div>\n  </div>\n</div>\n'),a=document.getElementById("filters-container"),document.getElementById("filters-placeholder").appendChild(a.querySelector(".filters")),a.innerHTML="",document.querySelector("h1").textContent=p.headerTitle[c],document.querySelector(".mobile-list-toggle").lastChild.textContent=p.showListButton[c],document.querySelector(".mobile-sidebar-close").lastChild.textContent=p.closeButton[c],(o=document.querySelector(".more-filters-btn")).innerHTML="",(r=document.createElement("img")).src="/images/more.svg",r.alt=p.moreFilters[c],r.className="filter-icon",o.appendChild(r),o.appendChild(document.createTextNode(p.moreFilters[c])),document.querySelectorAll(".filter").forEach((function(e){var t,a,n=e.dataset.filter;if(n){e.innerHTML="";var o=document.createElement("span");o.className="filter-icon-wrapper";var r=document.createElement("img");r.src=l[n]||"https://via.placeholder.com/16",r.alt=(null===(t=s[n])||void 0===t?void 0:t[c])||n,r.className="filter-icon",o.appendChild(r),e.appendChild(o),e.appendChild(document.createTextNode((null===(a=s[n])||void 0===a?void 0:a[c])||n)),e.addEventListener("click",(function(){E.includes(n)?(E=E.filter((function(e){return e!==n})),e.classList.remove("active")):(E.push(n),e.classList.add("active")),g(),w(E),P()})),E.includes(n)&&e.classList.add("active")}})),document.querySelectorAll(".filter-reset").forEach((function(e){e.addEventListener("click",(function(){E=[],document.querySelectorAll(".filter").forEach((function(e){return e.classList.remove("active")})),g(),z().setView(i.initialCoords,i.initialZoom),w(E),P()}))})),e.next=24,new Promise((function(e,t){n=L.map("map").setView(i.initialCoords,i.initialZoom),L.tileLayer(i.tileLayerUrl,{attribution:i.attribution}).addTo(n),n.addLayer(x),fetch("/places.json").then((function(e){return e.json()})).then((function(t){y=t,w(j()),e()})).catch((function(e){console.error("Ошибка загрузки данных:",e),t(e)})),n.on("moveend",(function(){y.length&&b(y.filter((function(e){var t=j();return 0===t.length||e.attributes.some((function(e){return t.includes(e)}))})))}))}));case 24:_(),document.querySelector(".more-filters-btn").addEventListener("click",(function(){document.getElementById("more-filters-modal").classList.remove("hidden")})),document.querySelector(".close-modal").addEventListener("click",(function(){document.getElementById("more-filters-modal").classList.add("hidden")})),u=new URLSearchParams(window.location.search),(m=u.get("filter"))&&S(m.split(",")),document.querySelectorAll(".filter").forEach((function(e){var t=e.dataset.filter;t&&(E.includes(t)?(console.log("Updating visual state for: ".concat(t)),e.classList.add("active")):e.classList.remove("active"))})),document.querySelectorAll(".filter").forEach((function(e){var t=e.dataset.filter;if(t){var a=(d[t]||{})[c]||"Description unavailable";e.addEventListener("mouseenter",(function(){return h(e,a)})),e.addEventListener("mouseleave",(function(){var t;(t=e.querySelector(".custom-tooltip"))&&(t.style.visibility="hidden")}))}}));case 32:case"end":return e.stop()}}),e)})),T=function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function l(e){a(i,o,r,l,s,"next",e)}function s(e){a(i,o,r,l,s,"throw",e)}l(void 0)}))},T.apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){return T.apply(this,arguments)}))}}}))}();
