{"ast":null,"code":"var _jsxFileName = \"/Users/borvel/Documents/GitHub/places-app/src/components/Filters/Filters.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { styled } from 'styled-components';\nimport { Tooltip } from 'react-tooltip';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FiltersBlock = styled.div`\n  margin: 0;\n  padding: 5px;\n  flex-shrink: 0;\n  min-height: 0;\n  display: block !important;\n  position: sticky;\n  top: 56px !important;\n  z-index: 9999;\n  background: #fff;\n  contain: layout paint;\n  will-change: transform;\n  transform: translateZ(0);\n  -webkit-font-smoothing: antialiased;\n`;\n_c = FiltersBlock;\nconst FiltersContainer = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  max-width: 1200px;\n  margin: 0 auto;\n  gap: 0;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  padding: 0;\n  min-height: 0;\n  contain: layout style paint;\n\n  @media (max-width: 768px) {\n    display: none !important;\n  }\n`;\n_c2 = FiltersContainer;\nconst FilterGroup = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 3px;\n  padding: 0 5px;\n  margin: 0;\n  contain: layout style;\n  position: relative;\n  max-width: ${props => props.$isRight ? '700px' : '300px'};\n\n  ${props => !props.$isRight && `\n    &::after {\n      content: '';\n      position: absolute;\n      right: 0;\n      top: 0;\n      height: 100%;\n      width: 1px;\n      background: #ccc;\n      transform: translateZ(0);\n    }\n  `}\n`;\n_c3 = FilterGroup;\nconst FilterButton = styled.div`\n  padding: 2px 4px;\n  border: 1px solid #ccc;\n  border-radius: 20px;\n  cursor: ${props => props.$isDisabled ? 'default' : 'pointer'};\n  user-select: none;\n  background: ${props => {\n  var _props$theme$colors;\n  return props.$isActive ? ((_props$theme$colors = props.theme.colors) === null || _props$theme$colors === void 0 ? void 0 : _props$theme$colors.primary) || '#333' : '#fff';\n}};\n  color: ${props => {\n  var _props$theme$colors2;\n  return props.$isActive ? '#fff' : ((_props$theme$colors2 = props.theme.colors) === null || _props$theme$colors2 === void 0 ? void 0 : _props$theme$colors2.primary) || '#333';\n}};\n  text-align: center;\n  white-space: nowrap;\n  font-size: 11px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  transition: all 0.2s ease-out;\n  will-change: transform, opacity;\n  transform: translateZ(0);\n  backface-visibility: hidden;\n  opacity: ${props => props.$isDisabled ? 0.5 : 1};\n\n  &:hover {\n    background: ${props => {\n  var _props$theme$colors3;\n  return !props.$isDisabled && (props.$isActive ? ((_props$theme$colors3 = props.theme.colors) === null || _props$theme$colors3 === void 0 ? void 0 : _props$theme$colors3.primary) || '#333' : '#f5f5f5');\n}};\n  }\n`;\n_c4 = FilterButton;\nconst FilterIcon = styled.img`\n  width: 16px;\n  height: 16px;\n  margin-right: 5px;\n  vertical-align: middle;\n  opacity: 0;\n  transition: opacity 0.3s ease-in-out;\n  transform: translateZ(0);\n  content-visibility: auto;\n\n  &[src] {\n    opacity: 1;\n  }\n`;\n_c5 = FilterIcon;\nconst FilterCount = styled.span`\n  margin-left: 5px;\n  font-size: 10px;\n  color: ${props => {\n  var _props$theme$colors4;\n  return props.$isActive ? '#fff' : ((_props$theme$colors4 = props.theme.colors) === null || _props$theme$colors4 === void 0 ? void 0 : _props$theme$colors4.textSecondary) || '#666';\n}};\n  background: ${props => {\n  var _props$theme$colors5;\n  return props.$isActive ? ((_props$theme$colors5 = props.theme.colors) === null || _props$theme$colors5 === void 0 ? void 0 : _props$theme$colors5.hover) || '#555' : '#f0f0f0';\n}};\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease-out;\n  transform: ${props => props.$isActive ? 'scale(1.05)' : 'scale(1)'} translateZ(0);\n`;\n_c6 = FilterCount;\nconst ResetButton = styled.button`\n  font-size: 14px;\n  cursor: pointer;\n  padding: 5px 10px;\n  border-radius: 9px;\n  background-color: #FFEFEF;\n  font-weight: bold;\n  border: none;\n  align-items: center;\n  transition: all 0.2s ease-out;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n  will-change: transform, background-color;\n  transform: translateZ(0);\n\n  &:hover {\n    background-color: #ffbbbb;\n    transform: translateY(-1px) translateZ(0);\n  }\n`;\n_c7 = ResetButton;\nconst MobileFilters = styled.div`\n  display: none;\n\n  @media (max-width: 768px) {\n    display: flex !important;\n    gap: 3px;\n    align-items: center;\n    width: 100%;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    position: relative;\n    z-index: 50;\n    contain: layout style;\n    transform: translateZ(0);\n    will-change: transform;\n    padding: 0 10px;\n  }\n`;\n_c8 = MobileFilters;\nconst MoreFiltersButton = styled.button`\n  font-size: 13px;\n  cursor: pointer;\n  padding: 6px 12px;\n  border-radius: 20px;\n  border: none;\n  background-color: #f0f0f0;\n  color: #333;\n  font-weight: 500;\n  transition: all 0.2s ease-out;\n  display: none;\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  will-change: transform, background-color;\n  transform: translateZ(0);\n\n  &:hover {\n    background-color: #e0e0e0;\n    transform: translateY(-1px) translateZ(0);\n  }\n\n  &:active {\n    background-color: #d0d0d0;\n    transform: translateY(0) translateZ(0);\n  }\n\n  @media (max-width: 768px) {\n    display: flex;\n  }\n`;\n_c9 = MoreFiltersButton;\nconst FilterPopup = styled.div`\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  justify-content: center;\n  align-items: center;\n  transition: background-color 0.3s ease-out;\n  will-change: opacity;\n  backdrop-filter: blur(2px);\n\n  &.active {\n    display: flex;\n  }\n`;\n_c10 = FilterPopup;\nconst PopupContent = styled.div`\n  background-color: #fff;\n  padding: 20px;\n  border-radius: 10px;\n  width: 90%;\n  max-width: 400px;\n  max-height: 80vh;\n  overflow-y: auto;\n  opacity: 0;\n  transform: scale(0.95) translateY(20px);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  will-change: transform, opacity;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\n  &.active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n`;\n_c11 = PopupContent;\nconst PopupFilters = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  margin-bottom: 20px;\n`;\n_c12 = PopupFilters;\nconst PopupFilterGroup = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n`;\n_c13 = PopupFilterGroup;\nconst PopupTitle = styled.h3`\n  margin: 0 0 10px 0;\n  font-size: 16px;\n  color: #333;\n`;\n_c14 = PopupTitle;\nconst PopupCloseButton = styled.button`\n  padding: 5px 10px;\n  background-color: #90EE90;\n  border: none;\n  border-radius: 9px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #fff;\n  transition: all 0.2s ease-out;\n  will-change: transform;\n  transform: translateZ(0);\n\n  &:hover {\n    background-color: #7CFC00;\n    transform: translateY(-1px) translateZ(0);\n  }\n`;\n_c15 = PopupCloseButton;\nexport const Filters = ({\n  config,\n  activeFilters,\n  onFilterChange,\n  filterCounts,\n  toggleFilter,\n  isFilterAvailable,\n  resetFilters\n}) => {\n  _s();\n  const [isPopupActive, setIsPopupActive] = useState(false);\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n  const handleReset = useCallback(() => {\n    resetFilters();\n  }, [resetFilters]);\n  const handleMoreClick = () => {\n    setIsPopupActive(true);\n  };\n  const handleClosePopup = () => {\n    setIsPopupActive(false);\n  };\n\n  // Обновляем флаг isMobile при изменении размера окна\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  const renderFilterButton = filter => {\n    const isFilterActive = activeFilters.includes(filter.key);\n    const isAvailable = isFilterAvailable(filter.key);\n    const count = filterCounts[filter.key] || 0;\n\n    // Если счетчик равен 0 и фильтр не активен, его нельзя выбрать\n    const isDisabled = !isAvailable || !isFilterActive && count === 0;\n    return /*#__PURE__*/_jsxDEV(FilterButton, {\n      $isActive: isFilterActive,\n      $isDisabled: isDisabled,\n      onClick: () => isDisabled ? null : toggleFilter(filter.key),\n      \"data-tooltip-id\": `filter-tooltip-${filter.key}`,\n      \"data-tooltip-content\": filter.tooltip,\n      \"data-tooltip-place\": \"bottom\",\n      children: [/*#__PURE__*/_jsxDEV(FilterIcon, {\n        src: filter.icon,\n        alt: filter.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), filter.label, /*#__PURE__*/_jsxDEV(FilterCount, {\n        $isActive: isFilterActive,\n        children: count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this)]\n    }, filter.key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this);\n  };\n  const renderPopupFilterButton = filter => {\n    const isFilterActive = activeFilters.includes(filter.key);\n    const isAvailable = isFilterAvailable(filter.key);\n    const count = filterCounts[filter.key] || 0;\n\n    // Если счетчик равен 0 и фильтр не активен, его нельзя выбрать\n    const isDisabled = !isAvailable || !isFilterActive && count === 0;\n    return /*#__PURE__*/_jsxDEV(FilterButton, {\n      $isActive: isFilterActive,\n      $isDisabled: isDisabled,\n      onClick: () => {\n        if (!isDisabled) {\n          toggleFilter(filter.key);\n        }\n      },\n      \"data-tooltip-id\": `filter-tooltip-${filter.key}`,\n      \"data-tooltip-content\": filter.tooltip,\n      \"data-tooltip-place\": \"bottom\",\n      children: [/*#__PURE__*/_jsxDEV(FilterIcon, {\n        src: filter.icon,\n        alt: filter.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), filter.label, /*#__PURE__*/_jsxDEV(FilterCount, {\n        $isActive: isFilterActive,\n        children: count\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)]\n    }, filter.key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this);\n  };\n  useEffect(() => {\n    console.log('📊 Обновились счетчики фильтров:', filterCounts);\n\n    // Можно добавить дополнительную логику обработки счетчиков здесь\n  }, [filterCounts]);\n\n  // Генерируем тултипы для всех фильтров\n  const renderTooltips = () => {\n    const allFilters = [...config.filters.leftFilters, ...config.filters.rightFilters];\n    return allFilters.map(filter => /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: `filter-tooltip-${filter.key}`,\n      className: \"filter-tooltip\",\n      clickable: true,\n      delayShow: isMobile ? 500 : 200\n    }, `tooltip-${filter.key}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this));\n  };\n\n  // Добавим отладочную информацию, чтобы понять, что происходит\n  useEffect(() => {\n    console.log('Тултипы настроены:', isMobile ? 'для мобильных устройств' : 'для десктопа');\n  }, [isMobile]);\n\n  // Также проверим, что тултипы правильно импортированы и инициализированы\n  useEffect(() => {\n    // Проверка импорта react-tooltip\n    console.log('React Tooltip импортирован успешно');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(FiltersBlock, {\n      children: [/*#__PURE__*/_jsxDEV(FiltersContainer, {\n        children: [/*#__PURE__*/_jsxDEV(FilterGroup, {\n          children: config.filters.leftFilters.map(renderFilterButton)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FilterGroup, {\n          $isRight: true,\n          children: config.filters.rightFilters.map(renderFilterButton)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ResetButton, {\n          onClick: handleReset,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/data/images/reset.svg\",\n            alt: \"Reset\",\n            style: {\n              width: '16px',\n              height: '16px',\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MoreFiltersButton, {\n          onClick: handleMoreClick,\n          children: \"More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MobileFilters, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '3px'\n          },\n          children: /*#__PURE__*/_jsxDEV(FilterGroup, {\n            children: config.filters.leftFilters.slice(0, 2).map(renderFilterButton)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '3px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(MoreFiltersButton, {\n            onClick: handleMoreClick,\n            children: \"More\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResetButton, {\n            onClick: handleReset,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/data/images/reset.svg\",\n              alt: \"Reset\",\n              style: {\n                width: '16px',\n                height: '16px',\n                marginRight: '5px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '3px'\n          },\n          children: /*#__PURE__*/_jsxDEV(FilterGroup, {\n            $isRight: true,\n            children: config.filters.rightFilters.slice(0, 3).map(renderFilterButton)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FilterPopup, {\n      className: isPopupActive ? 'active' : '',\n      onClick: handleClosePopup,\n      children: /*#__PURE__*/_jsxDEV(PopupContent, {\n        className: isPopupActive ? 'active' : '',\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(PopupFilters, {\n          children: [config.filters.leftFilters.length > 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(PopupTitle, {\n              children: \"\\u041E\\u0441\\u0442\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438 1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(PopupFilterGroup, {\n              children: config.filters.leftFilters.slice(2).map(renderPopupFilterButton)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), config.filters.rightFilters.length > 3 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(PopupTitle, {\n              children: \"\\u041E\\u0441\\u0442\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0444\\u0438\\u043B\\u044C\\u0442\\u0440\\u044B \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u0438 2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(PopupFilterGroup, {\n              children: config.filters.rightFilters.slice(3).map(renderPopupFilterButton)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PopupCloseButton, {\n          onClick: handleClosePopup,\n          children: \"OK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, this), config.filters.leftFilters.map(filter => /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: `filter-tooltip-${filter.key}`,\n      className: \"filter-tooltip\",\n      clickable: true,\n      delayShow: isMobile ? 500 : 200\n    }, `tooltip-${filter.key}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 9\n    }, this)), config.filters.rightFilters.map(filter => /*#__PURE__*/_jsxDEV(Tooltip, {\n      id: `filter-tooltip-${filter.key}`,\n      className: \"filter-tooltip\",\n      clickable: true,\n      delayShow: isMobile ? 500 : 200\n    }, `tooltip-${filter.key}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 408,\n    columnNumber: 5\n  }, this);\n};\n_s(Filters, \"npP27TxpmQ52/NS0NesbUCCnoNA=\");\n_c16 = Filters;\nexport default Filters;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"FiltersBlock\");\n$RefreshReg$(_c2, \"FiltersContainer\");\n$RefreshReg$(_c3, \"FilterGroup\");\n$RefreshReg$(_c4, \"FilterButton\");\n$RefreshReg$(_c5, \"FilterIcon\");\n$RefreshReg$(_c6, \"FilterCount\");\n$RefreshReg$(_c7, \"ResetButton\");\n$RefreshReg$(_c8, \"MobileFilters\");\n$RefreshReg$(_c9, \"MoreFiltersButton\");\n$RefreshReg$(_c10, \"FilterPopup\");\n$RefreshReg$(_c11, \"PopupContent\");\n$RefreshReg$(_c12, \"PopupFilters\");\n$RefreshReg$(_c13, \"PopupFilterGroup\");\n$RefreshReg$(_c14, \"PopupTitle\");\n$RefreshReg$(_c15, \"PopupCloseButton\");\n$RefreshReg$(_c16, \"Filters\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","styled","Tooltip","jsxDEV","_jsxDEV","Fragment","_Fragment","FiltersBlock","div","_c","FiltersContainer","_c2","FilterGroup","props","$isRight","_c3","FilterButton","$isDisabled","_props$theme$colors","$isActive","theme","colors","primary","_props$theme$colors2","_props$theme$colors3","_c4","FilterIcon","img","_c5","FilterCount","span","_props$theme$colors4","textSecondary","_props$theme$colors5","hover","_c6","ResetButton","button","_c7","MobileFilters","_c8","MoreFiltersButton","_c9","FilterPopup","_c10","PopupContent","_c11","PopupFilters","_c12","PopupFilterGroup","_c13","PopupTitle","h3","_c14","PopupCloseButton","_c15","Filters","config","activeFilters","onFilterChange","filterCounts","toggleFilter","isFilterAvailable","resetFilters","_s","isPopupActive","setIsPopupActive","isMobile","setIsMobile","window","innerWidth","handleReset","handleMoreClick","handleClosePopup","handleResize","addEventListener","removeEventListener","renderFilterButton","filter","isFilterActive","includes","key","isAvailable","count","isDisabled","onClick","tooltip","children","src","icon","alt","label","fileName","_jsxFileName","lineNumber","columnNumber","renderPopupFilterButton","console","log","renderTooltips","allFilters","filters","leftFilters","rightFilters","map","id","className","clickable","delayShow","style","width","height","marginRight","display","gap","slice","e","stopPropagation","length","_c16","$RefreshReg$"],"sources":["/Users/borvel/Documents/GitHub/places-app/src/components/Filters/Filters.tsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport { styled } from 'styled-components';\nimport { Filter, AppConfig } from '../../types/places';\nimport { Tooltip } from 'react-tooltip';\n\ninterface FiltersProps {\n  config: AppConfig;\n  activeFilters: string[];\n  onFilterChange: (filters: string[]) => void;\n  filterCounts: Record<string, number>;\n  toggleFilter: (filter: string) => void;\n  isFilterAvailable: (filter: string) => boolean;\n  resetFilters: () => void;\n}\n\nconst FiltersBlock = styled.div`\n  margin: 0;\n  padding: 5px;\n  flex-shrink: 0;\n  min-height: 0;\n  display: block !important;\n  position: sticky;\n  top: 56px !important;\n  z-index: 9999;\n  background: #fff;\n  contain: layout paint;\n  will-change: transform;\n  transform: translateZ(0);\n  -webkit-font-smoothing: antialiased;\n`;\n\nconst FiltersContainer = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  max-width: 1200px;\n  margin: 0 auto;\n  gap: 0;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  padding: 0;\n  min-height: 0;\n  contain: layout style paint;\n\n  @media (max-width: 768px) {\n    display: none !important;\n  }\n`;\n\nconst FilterGroup = styled.div<{ $isRight?: boolean }>`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 3px;\n  padding: 0 5px;\n  margin: 0;\n  contain: layout style;\n  position: relative;\n  max-width: ${props => props.$isRight ? '700px' : '300px'};\n\n  ${props => !props.$isRight && `\n    &::after {\n      content: '';\n      position: absolute;\n      right: 0;\n      top: 0;\n      height: 100%;\n      width: 1px;\n      background: #ccc;\n      transform: translateZ(0);\n    }\n  `}\n`;\n\nconst FilterButton = styled.div<{ $isActive: boolean; $isDisabled: boolean }>`\n  padding: 2px 4px;\n  border: 1px solid #ccc;\n  border-radius: 20px;\n  cursor: ${props => props.$isDisabled ? 'default' : 'pointer'};\n  user-select: none;\n  background: ${props => props.$isActive ? props.theme.colors?.primary || '#333' : '#fff'};\n  color: ${props => props.$isActive ? '#fff' : props.theme.colors?.primary || '#333'};\n  text-align: center;\n  white-space: nowrap;\n  font-size: 11px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  position: relative;\n  transition: all 0.2s ease-out;\n  will-change: transform, opacity;\n  transform: translateZ(0);\n  backface-visibility: hidden;\n  opacity: ${props => props.$isDisabled ? 0.5 : 1};\n\n  &:hover {\n    background: ${props => !props.$isDisabled && (props.$isActive ? props.theme.colors?.primary || '#333' : '#f5f5f5')};\n  }\n`;\n\nconst FilterIcon = styled.img`\n  width: 16px;\n  height: 16px;\n  margin-right: 5px;\n  vertical-align: middle;\n  opacity: 0;\n  transition: opacity 0.3s ease-in-out;\n  transform: translateZ(0);\n  content-visibility: auto;\n\n  &[src] {\n    opacity: 1;\n  }\n`;\n\nconst FilterCount = styled.span<{ $isActive: boolean }>`\n  margin-left: 5px;\n  font-size: 10px;\n  color: ${props => props.$isActive ? '#fff' : props.theme.colors?.textSecondary || '#666'};\n  background: ${props => props.$isActive ? props.theme.colors?.hover || '#555' : '#f0f0f0'};\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease-out;\n  transform: ${props => props.$isActive ? 'scale(1.05)' : 'scale(1)'} translateZ(0);\n`;\n\nconst ResetButton = styled.button`\n  font-size: 14px;\n  cursor: pointer;\n  padding: 5px 10px;\n  border-radius: 9px;\n  background-color: #FFEFEF;\n  font-weight: bold;\n  border: none;\n  align-items: center;\n  transition: all 0.2s ease-out;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n  will-change: transform, background-color;\n  transform: translateZ(0);\n\n  &:hover {\n    background-color: #ffbbbb;\n    transform: translateY(-1px) translateZ(0);\n  }\n`;\n\nconst MobileFilters = styled.div`\n  display: none;\n\n  @media (max-width: 768px) {\n    display: flex !important;\n    gap: 3px;\n    align-items: center;\n    width: 100%;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    position: relative;\n    z-index: 50;\n    contain: layout style;\n    transform: translateZ(0);\n    will-change: transform;\n    padding: 0 10px;\n  }\n`;\n\nconst MoreFiltersButton = styled.button`\n  font-size: 13px;\n  cursor: pointer;\n  padding: 6px 12px;\n  border-radius: 20px;\n  border: none;\n  background-color: #f0f0f0;\n  color: #333;\n  font-weight: 500;\n  transition: all 0.2s ease-out;\n  display: none;\n  align-items: center;\n  justify-content: center;\n  margin: 0;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  will-change: transform, background-color;\n  transform: translateZ(0);\n\n  &:hover {\n    background-color: #e0e0e0;\n    transform: translateY(-1px) translateZ(0);\n  }\n\n  &:active {\n    background-color: #d0d0d0;\n    transform: translateY(0) translateZ(0);\n  }\n\n  @media (max-width: 768px) {\n    display: flex;\n  }\n`;\n\nconst FilterPopup = styled.div`\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  justify-content: center;\n  align-items: center;\n  transition: background-color 0.3s ease-out;\n  will-change: opacity;\n  backdrop-filter: blur(2px);\n\n  &.active {\n    display: flex;\n  }\n`;\n\nconst PopupContent = styled.div`\n  background-color: #fff;\n  padding: 20px;\n  border-radius: 10px;\n  width: 90%;\n  max-width: 400px;\n  max-height: 80vh;\n  overflow-y: auto;\n  opacity: 0;\n  transform: scale(0.95) translateY(20px);\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  will-change: transform, opacity;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\n  &.active {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n`;\n\nconst PopupFilters = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  margin-bottom: 20px;\n`;\n\nconst PopupFilterGroup = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n`;\n\nconst PopupTitle = styled.h3`\n  margin: 0 0 10px 0;\n  font-size: 16px;\n  color: #333;\n`;\n\nconst PopupCloseButton = styled.button`\n  padding: 5px 10px;\n  background-color: #90EE90;\n  border: none;\n  border-radius: 9px;\n  cursor: pointer;\n  font-size: 14px;\n  color: #fff;\n  transition: all 0.2s ease-out;\n  will-change: transform;\n  transform: translateZ(0);\n\n  &:hover {\n    background-color: #7CFC00;\n    transform: translateY(-1px) translateZ(0);\n  }\n`;\n\nexport const Filters: React.FC<FiltersProps> = ({\n  config,\n  activeFilters,\n  onFilterChange,\n  filterCounts,\n  toggleFilter,\n  isFilterAvailable,\n  resetFilters\n}) => {\n  const [isPopupActive, setIsPopupActive] = useState(false);\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n\n  const handleReset = useCallback(() => {\n    resetFilters();\n  }, [resetFilters]);\n\n  const handleMoreClick = () => {\n    setIsPopupActive(true);\n  };\n\n  const handleClosePopup = () => {\n    setIsPopupActive(false);\n  };\n\n  // Обновляем флаг isMobile при изменении размера окна\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    \n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const renderFilterButton = (filter: Filter) => {\n    const isFilterActive = activeFilters.includes(filter.key);\n    const isAvailable = isFilterAvailable(filter.key);\n    const count = filterCounts[filter.key] || 0;\n\n    // Если счетчик равен 0 и фильтр не активен, его нельзя выбрать\n    const isDisabled = !isAvailable || (!isFilterActive && count === 0);\n    \n    return (\n      <FilterButton\n        key={filter.key}\n        $isActive={isFilterActive}\n        $isDisabled={isDisabled}\n        onClick={() => isDisabled ? null : toggleFilter(filter.key)}\n        data-tooltip-id={`filter-tooltip-${filter.key}`}\n        data-tooltip-content={filter.tooltip}\n        data-tooltip-place=\"bottom\"\n      >\n        <FilterIcon src={filter.icon} alt={filter.label} />\n        {filter.label}\n        <FilterCount $isActive={isFilterActive}>\n          {count}\n        </FilterCount>\n      </FilterButton>\n    );\n  };\n\n  const renderPopupFilterButton = (filter: Filter) => {\n    const isFilterActive = activeFilters.includes(filter.key);\n    const isAvailable = isFilterAvailable(filter.key);\n    const count = filterCounts[filter.key] || 0;\n\n    // Если счетчик равен 0 и фильтр не активен, его нельзя выбрать\n    const isDisabled = !isAvailable || (!isFilterActive && count === 0);\n    \n    return (\n      <FilterButton\n        key={filter.key}\n        $isActive={isFilterActive}\n        $isDisabled={isDisabled}\n        onClick={() => {\n          if (!isDisabled) {\n            toggleFilter(filter.key);\n          }\n        }}\n        data-tooltip-id={`filter-tooltip-${filter.key}`}\n        data-tooltip-content={filter.tooltip}\n        data-tooltip-place=\"bottom\"\n      >\n        <FilterIcon src={filter.icon} alt={filter.label} />\n        {filter.label}\n        <FilterCount $isActive={isFilterActive}>\n          {count}\n        </FilterCount>\n      </FilterButton>\n    );\n  };\n\n  useEffect(() => {\n    console.log('📊 Обновились счетчики фильтров:', filterCounts);\n    \n    // Можно добавить дополнительную логику обработки счетчиков здесь\n    \n  }, [filterCounts]);\n  \n  // Генерируем тултипы для всех фильтров\n  const renderTooltips = () => {\n    const allFilters = [...config.filters.leftFilters, ...config.filters.rightFilters];\n    \n    return allFilters.map(filter => (\n      <Tooltip\n        key={`tooltip-${filter.key}`}\n        id={`filter-tooltip-${filter.key}`}\n        className=\"filter-tooltip\"\n        clickable={true}\n        delayShow={isMobile ? 500 : 200}\n      />\n    ));\n  };\n\n  // Добавим отладочную информацию, чтобы понять, что происходит\n  useEffect(() => {\n    console.log('Тултипы настроены:', isMobile ? 'для мобильных устройств' : 'для десктопа');\n  }, [isMobile]);\n  \n  // Также проверим, что тултипы правильно импортированы и инициализированы\n  useEffect(() => {\n    // Проверка импорта react-tooltip\n    console.log('React Tooltip импортирован успешно');\n  }, []);\n\n  return (\n    <div>\n      <FiltersBlock>\n        <FiltersContainer>\n          <FilterGroup>\n            {config.filters.leftFilters.map(renderFilterButton)}\n          </FilterGroup>\n          <FilterGroup $isRight>\n            {config.filters.rightFilters.map(renderFilterButton)}\n          </FilterGroup>\n          <ResetButton onClick={handleReset}>\n            <img src=\"/data/images/reset.svg\" alt=\"Reset\" style={{ width: '16px', height: '16px', marginRight: '5px' }} />\n          </ResetButton>\n          <MoreFiltersButton onClick={handleMoreClick}>More</MoreFiltersButton>\n        </FiltersContainer>\n\n        <MobileFilters>\n          <div style={{ display: 'flex', gap: '3px' }}>\n            <FilterGroup>\n              {config.filters.leftFilters.slice(0, 2).map(renderFilterButton)}\n            </FilterGroup>\n          </div>\n\n          <div style={{ display: 'flex', gap: '3px' }}>\n            <MoreFiltersButton onClick={handleMoreClick}>More</MoreFiltersButton>\n            <ResetButton onClick={handleReset}>\n              <img src=\"/data/images/reset.svg\" alt=\"Reset\" style={{ width: '16px', height: '16px', marginRight: '5px' }} />\n            </ResetButton>\n          </div>\n\n          <div style={{ display: 'flex', gap: '3px' }}>\n            <FilterGroup $isRight>\n              {config.filters.rightFilters.slice(0, 3).map(renderFilterButton)}\n            </FilterGroup>\n          </div>\n        </MobileFilters>\n      </FiltersBlock>\n\n      <FilterPopup className={isPopupActive ? 'active' : ''} onClick={handleClosePopup}>\n        <PopupContent className={isPopupActive ? 'active' : ''} onClick={e => e.stopPropagation()}>\n          <PopupFilters>\n            {config.filters.leftFilters.length > 2 && (\n              <>\n                <PopupTitle>Остальные фильтры категории 1</PopupTitle>\n                <PopupFilterGroup>\n                  {config.filters.leftFilters.slice(2).map(renderPopupFilterButton)}\n                </PopupFilterGroup>\n              </>\n            )}\n\n            {config.filters.rightFilters.length > 3 && (\n              <>\n                <PopupTitle>Остальные фильтры категории 2</PopupTitle>\n                <PopupFilterGroup>\n                  {config.filters.rightFilters.slice(3).map(renderPopupFilterButton)}\n                </PopupFilterGroup>\n              </>\n            )}\n          </PopupFilters>\n          <PopupCloseButton onClick={handleClosePopup}>OK</PopupCloseButton>\n        </PopupContent>\n      </FilterPopup>\n      \n      {/* Генерируем все тултипы для фильтров */}\n      {config.filters.leftFilters.map(filter => (\n        <Tooltip\n          key={`tooltip-${filter.key}`}\n          id={`filter-tooltip-${filter.key}`}\n          className=\"filter-tooltip\"\n          clickable={true}\n          delayShow={isMobile ? 500 : 200}\n        />\n      ))}\n      {config.filters.rightFilters.map(filter => (\n        <Tooltip\n          key={`tooltip-${filter.key}`}\n          id={`filter-tooltip-${filter.key}`}\n          className=\"filter-tooltip\"\n          clickable={true}\n          delayShow={isMobile ? 500 : 200}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Filters;\n"],"mappings":"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CAAC;AAACC,GAAA,GArBIF,WAAW;AAuBjB,MAAMG,aAAa,GAAGtC,MAAM,CAACO,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACgC,GAAA,GAjBID,aAAa;AAmBnB,MAAME,iBAAiB,GAAGxC,MAAM,CAACoC,MAAM;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACK,GAAA,GA/BID,iBAAiB;AAiCvB,MAAME,WAAW,GAAG1C,MAAM,CAACO,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACoC,IAAA,GAlBID,WAAW;AAoBjB,MAAME,YAAY,GAAG5C,MAAM,CAACO,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACsC,IAAA,GAlBID,YAAY;AAoBlB,MAAME,YAAY,GAAG9C,MAAM,CAACO,GAAG;AAC/B;AACA;AACA;AACA;AACA,CAAC;AAACwC,IAAA,GALID,YAAY;AAOlB,MAAME,gBAAgB,GAAGhD,MAAM,CAACO,GAAG;AACnC;AACA;AACA;AACA,CAAC;AAAC0C,IAAA,GAJID,gBAAgB;AAMtB,MAAME,UAAU,GAAGlD,MAAM,CAACmD,EAAE;AAC5B;AACA;AACA;AACA,CAAC;AAACC,IAAA,GAJIF,UAAU;AAMhB,MAAMG,gBAAgB,GAAGrD,MAAM,CAACoC,MAAM;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACkB,IAAA,GAhBID,gBAAgB;AAkBtB,OAAO,MAAME,OAA+B,GAAGA,CA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}