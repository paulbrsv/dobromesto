{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{styled}from'styled-components';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ListContainer=styled.div`\n  position: absolute;\n  top: 0;\n  left: 15px;\n  width: 350px;\n  max-height: calc(100vh - 96px);\n  overflow-y: auto;\n  background: transparent;\n  border-radius: 4px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n  display: ${props=>props.$isVisible?'flex':'none'};\n  flex-direction: column;\n  gap: 10px;\n  padding: 10px 0;\n  transition: top 0.3s ease;\n\n  @media (max-width: 768px) {\n    position: fixed;\n    top: 115px !important;\n    left: 0;\n    width: 100%;\n    max-width: 100%;\n    background: #f5f5f5;\n    z-index: 9999;\n    padding: 20px;\n    box-sizing: border-box;\n  }\n`;const PlaceCard=styled.div`\n  padding: 15px;\n  cursor: pointer;\n  background: ${props=>props.$isSelected?'#f5f5f5':'#fff'};\n  border-radius: 4px;\n  display: flex;\n  align-items: flex-start;\n  gap: 10px;\n\n  &:hover {\n    background: #f5f5f5;\n  }\n\n  @media (max-width: 768px) {\n    background: #fff;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n    border-radius: 8px;\n    margin-bottom: 15px;\n    padding: 10px;\n  }\n`;const PlaceImage=styled.img`\n  flex-shrink: 0;\n  width: 60px;\n  height: 80px;\n  object-fit: cover;\n  border-radius: 4px;\n  background-color: #eee;\n\n  @media (max-width: 768px) {\n    width: 50px;\n    height: 60px;\n  }\n`;const PlaceContent=styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n`;const PlaceTitle=styled.h3`\n  margin: 0;\n  font-size: 16px;\n`;const PlaceDescription=styled.p`\n  margin: 0;\n  font-size: 14px;\n  color: ${props=>{var _props$theme$colors;return((_props$theme$colors=props.theme.colors)===null||_props$theme$colors===void 0?void 0:_props$theme$colors.textSecondary)||'#666';}};\n`;const PlaceAttributes=styled.div`\n  display: flex;\n  gap: 2px;\n  margin-top: 5px;\n`;const AttributeIcon=styled.img`\n  width: 16px;\n  height: 16px;\n  object-fit: contain;\n`;const CloseButton=styled.button`\n  position: fixed;\n  top: 140px;\n  right: 20px;\n  padding: 8px 16px;\n  background: ${props=>{var _props$theme$colors2;return((_props$theme$colors2=props.theme.colors)===null||_props$theme$colors2===void 0?void 0:_props$theme$colors2.closeButton)||'#ff4444';}};\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  z-index: 9999;\n  display: none;\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`;export const PlacesList=_ref=>{let{places,config,onPlaceSelect,selectedPlace,isVisible,onClose}=_ref;const listContainerRef=useRef(null);// Сбрасываем прокрутку списка в начало при его открытии\nuseEffect(()=>{if(isVisible&&listContainerRef.current){listContainerRef.current.scrollTop=0;}},[isVisible]);const getFilterIcon=attribute=>{var _allFilters$find;const allFilters=[...config.filters.leftFilters,...config.filters.rightFilters];return(_allFilters$find=allFilters.find(filter=>filter.key===attribute))===null||_allFilters$find===void 0?void 0:_allFilters$find.icon;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ListContainer,{$isVisible:isVisible,ref:listContainerRef,children:places.map(place=>/*#__PURE__*/_jsxs(PlaceCard,{$isSelected:(selectedPlace===null||selectedPlace===void 0?void 0:selectedPlace.name)===place.name,onClick:()=>onPlaceSelect(place),children:[/*#__PURE__*/_jsx(PlaceImage,{src:place.image,alt:place.name}),/*#__PURE__*/_jsxs(PlaceContent,{children:[/*#__PURE__*/_jsx(PlaceTitle,{children:place.name}),/*#__PURE__*/_jsx(PlaceDescription,{children:place.shirt_description}),/*#__PURE__*/_jsx(PlaceAttributes,{children:place.attributes.map(attr=>{var _config$filters$leftF;const iconUrl=getFilterIcon(attr);return iconUrl&&/*#__PURE__*/_jsx(AttributeIcon,{src:iconUrl,alt:attr,title:(_config$filters$leftF=config.filters.leftFilters.concat(config.filters.rightFilters).find(f=>f.key===attr))===null||_config$filters$leftF===void 0?void 0:_config$filters$leftF.tooltip},attr);})})]})]},`${place.lat}-${place.lng}`))}),isVisible&&/*#__PURE__*/_jsx(CloseButton,{onClick:onClose,children:config.content.buttonLabels.close})]});};export default PlacesList;","map":{"version":3,"names":["React","useRef","useEffect","styled","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ListContainer","div","props","$isVisible","PlaceCard","$isSelected","PlaceImage","img","PlaceContent","PlaceTitle","h3","PlaceDescription","p","_props$theme$colors","theme","colors","textSecondary","PlaceAttributes","AttributeIcon","CloseButton","button","_props$theme$colors2","closeButton","PlacesList","_ref","places","config","onPlaceSelect","selectedPlace","isVisible","onClose","listContainerRef","current","scrollTop","getFilterIcon","attribute","_allFilters$find","allFilters","filters","leftFilters","rightFilters","find","filter","key","icon","children","ref","map","place","name","onClick","src","image","alt","shirt_description","attributes","attr","_config$filters$leftF","iconUrl","title","concat","f","tooltip","lat","lng","content","buttonLabels","close"],"sources":["/Users/borvel/Documents/GitHub/places-app/src/components/PlacesList/PlacesList.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { styled } from 'styled-components';\nimport { Place, AppConfig } from '../../types/places';\n\ninterface PlacesListProps {\n  places: Place[];\n  config: AppConfig;\n  onPlaceSelect: (place: Place) => void;\n  selectedPlace?: Place | null;\n  isVisible: boolean;\n  onClose: () => void;\n}\n\nconst ListContainer = styled.div<{ $isVisible: boolean }>`\n  position: absolute;\n  top: 0;\n  left: 15px;\n  width: 350px;\n  max-height: calc(100vh - 96px);\n  overflow-y: auto;\n  background: transparent;\n  border-radius: 4px;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n  z-index: 10;\n  display: ${props => props.$isVisible ? 'flex' : 'none'};\n  flex-direction: column;\n  gap: 10px;\n  padding: 10px 0;\n  transition: top 0.3s ease;\n\n  @media (max-width: 768px) {\n    position: fixed;\n    top: 115px !important;\n    left: 0;\n    width: 100%;\n    max-width: 100%;\n    background: #f5f5f5;\n    z-index: 9999;\n    padding: 20px;\n    box-sizing: border-box;\n  }\n`;\n\nconst PlaceCard = styled.div<{ $isSelected: boolean }>`\n  padding: 15px;\n  cursor: pointer;\n  background: ${props => props.$isSelected ? '#f5f5f5' : '#fff'};\n  border-radius: 4px;\n  display: flex;\n  align-items: flex-start;\n  gap: 10px;\n\n  &:hover {\n    background: #f5f5f5;\n  }\n\n  @media (max-width: 768px) {\n    background: #fff;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n    border-radius: 8px;\n    margin-bottom: 15px;\n    padding: 10px;\n  }\n`;\n\nconst PlaceImage = styled.img`\n  flex-shrink: 0;\n  width: 60px;\n  height: 80px;\n  object-fit: cover;\n  border-radius: 4px;\n  background-color: #eee;\n\n  @media (max-width: 768px) {\n    width: 50px;\n    height: 60px;\n  }\n`;\n\nconst PlaceContent = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n`;\n\nconst PlaceTitle = styled.h3`\n  margin: 0;\n  font-size: 16px;\n`;\n\nconst PlaceDescription = styled.p`\n  margin: 0;\n  font-size: 14px;\n  color: ${props => props.theme.colors?.textSecondary || '#666'};\n`;\n\nconst PlaceAttributes = styled.div`\n  display: flex;\n  gap: 2px;\n  margin-top: 5px;\n`;\n\nconst AttributeIcon = styled.img`\n  width: 16px;\n  height: 16px;\n  object-fit: contain;\n`;\n\nconst CloseButton = styled.button`\n  position: fixed;\n  top: 140px;\n  right: 20px;\n  padding: 8px 16px;\n  background: ${props => props.theme.colors?.closeButton || '#ff4444'};\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  z-index: 9999;\n  display: none;\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`;\n\nexport const PlacesList: React.FC<PlacesListProps> = ({\n  places,\n  config,\n  onPlaceSelect,\n  selectedPlace,\n  isVisible,\n  onClose\n}) => {\n  const listContainerRef = useRef<HTMLDivElement>(null);\n  \n  // Сбрасываем прокрутку списка в начало при его открытии\n  useEffect(() => {\n    if (isVisible && listContainerRef.current) {\n      listContainerRef.current.scrollTop = 0;\n    }\n  }, [isVisible]);\n\n  const getFilterIcon = (attribute: string) => {\n    const allFilters = [...config.filters.leftFilters, ...config.filters.rightFilters];\n    return allFilters.find(filter => filter.key === attribute)?.icon;\n  };\n\n  return (\n    <>\n      <ListContainer $isVisible={isVisible} ref={listContainerRef}>\n        {places.map(place => (\n          <PlaceCard\n            key={`${place.lat}-${place.lng}`}\n            $isSelected={selectedPlace?.name === place.name}\n            onClick={() => onPlaceSelect(place)}\n          >\n            <PlaceImage src={place.image} alt={place.name} />\n            <PlaceContent>\n              <PlaceTitle>{place.name}</PlaceTitle>\n              <PlaceDescription>{place.shirt_description}</PlaceDescription>\n              <PlaceAttributes>\n                {place.attributes.map(attr => {\n                  const iconUrl = getFilterIcon(attr);\n                  return iconUrl && (\n                    <AttributeIcon\n                      key={attr}\n                      src={iconUrl}\n                      alt={attr}\n                      title={config.filters.leftFilters.concat(config.filters.rightFilters)\n                        .find(f => f.key === attr)?.tooltip}\n                    />\n                  );\n                })}\n              </PlaceAttributes>\n            </PlaceContent>\n          </PlaceCard>\n        ))}\n      </ListContainer>\n      {isVisible && <CloseButton onClick={onClose}>{config.content.buttonLabels.close}</CloseButton>}\n    </>\n  );\n};\n\nexport default PlacesList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}